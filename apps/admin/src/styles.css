@import "tailwindcss";

/* Global Styles – converted to v4 standard (normal CSS + @layer for custom) */

/* Resets & Normalization */
@layer base {
  *, ::after, ::before, ::backdrop, ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }
  body {
    font-family: 'Inter', system-ui, sans-serif;
    background-color: var(--background);
  }
}

/* Theme Vars (normal CSS vars – v4 no @theme) */
@layer base {
  :root {
    --background: #f7f7fb;
    --foreground: #111827;
    --text-heading: #0f1724;
    --text-body: #111827;
    --text-label: #374151;
    --text-placeholder: #9ca3af;
    --text-muted: #6b7280;
    --card: #ffffff;
    --card-foreground: #111827;
    --form-bg: #ffffff;
    --border: #e6e9ef;
    --muted: #f3f4f6;
    --muted-foreground: #6b7280;
    --primary: #3b82f6;
    --primary-foreground: #ffffff;
    --success: #16a34a;
    --success-foreground: #ffffff;
    --destructive: #dc2626;
    --destructive-foreground: #ffffff;
    --shadow-1: 0 1px 2px rgba(16,24,40,0.04);
    --shadow-2: 0 6px 18px rgba(16,24,40,0.08);
    --secondary: #f3f4f6;
    --secondary-foreground: #111827;
  }

  .dark {
    --background: #212121;
    --foreground: #e6eef8;
    --text-heading: #eef2ff;
    --text-body: #e6eef8;
    --text-label: #cbd5e1;
    --text-placeholder: #94a3b8;
    --text-muted: #9aa7bb;
    --card: #0e0e0e;
    --card-foreground: #e6eef8;
    --form-bg: #111827;
    --border: #273244;
    --muted: #111827;
    --muted-foreground: #9aa7bb;
    --primary: #93c5fd;
    --primary-foreground: #06121a;
    --success: #34d399;
    --success-foreground: #06121a;
    --destructive: #fb7185;
    --destructive-foreground: #06121a;
    --shadow-1: 0 1px 2px rgba(2,6,23,0.6);
    --shadow-2: 0 8px 30px rgba(2,6,23,0.55);
    --secondary: #111827;
    --secondary-foreground: #e6eef8;
  }
}

/* Custom Themes (normal CSS) */
@layer base {
  :root[data-theme='blue'] { --primary: #2490FF; }
  .dark[data-theme='blue'] { --primary: #60a5fa; }
  :root[data-theme='violet'] { --primary: #6E56CF; }
  .dark[data-theme='violet'] { --primary: #8a73ff; }
  :root[data-theme='red'] { --primary: #CC0033; }
  .dark[data-theme='red'] { --primary: #f87171; }
  :root[data-theme='orange'] { --primary: #EA580C; }
  .dark[data-theme='orange'] { --primary: #fb923c; }
  :root[data-theme='yellow'] { --primary: #FACC15; }
  .dark[data-theme='yellow'] { --primary: #fde047; }
  :root[data-theme='green'] { --primary: #22C55E; }
  .dark[data-theme='green'] { --primary: #4ade80; }
}

/* Utilities (normal CSS – v4 no @utility) */
.container {
  padding-inline: 1rem;
}
@media (width >= 640px) { .container { padding-inline: 2rem; } }
@media (width >= 1024px) { .container { padding-inline: 4rem; } }
@media (width >= 1280px) { .container { padding-inline: 5rem; } }
@media (width >= 1536px) { .container { padding-inline: 6rem; } }

.equal-row-grid {
  display: grid;
  grid-auto-rows: minmax(0, 1fr);
}

/* Dropdown (normal CSS – group-hover built-in) */
.dropdown-content {
  pointer-events: none;
  scale: 0.95;
  opacity: 0;
  transition-duration: 0.1s;
  transition-timing-function: ease-in;
}
.group:hover .dropdown-content {
  pointer-events: auto;
  display: block;
  scale: 1;
  opacity: 1;
  transition-duration: 0.2s;
  animation: fade-in-up 0.3s ease-out;
}

/* Scrollbar support */
.supports-scrollbars\:pr-2 {
  padding-right: 0.5rem;
}

/* Page wrapper */
.page-wrapper {
  width: 100%;
  max-width: 80rem;
  margin-left: auto;
  margin-right: auto;
  padding: 1.5rem 1rem;
  display: flex;
  flex-direction: column;
  min-height: 0;
  flex: 1 1 0%;
}

/* Page title */
.page-title {
  font-size: 1.5rem;
  line-height: 2rem;
  font-weight: 700;
  color: var(--foreground);
  margin-bottom: 1.5rem;
}

/* Profile card */
.profile-card {
  background-color: var(--card);
  color: var(--card-foreground);
  padding: 1.5rem;
  border-radius: 0.5rem;
  box-shadow: var(--shadow-custom);
  display: flex;
  flex-direction: column;
  height: 100%;
}

/* Elevation */
.elevation-100 {
  box-shadow: var(--shadow-1);
}
.elevation-200 {
  box-shadow: var(--shadow-2);
}

.ledger-card {
  border-radius: 0.5rem;
  background-color: var(--card);
  padding: 2rem;
  border: 1px solid var(--border);
}

/* Components (keep @apply – v4 supports in @layer components) */
@layer components {
  /* Custom Forms */
  [type='text'],
  [type='email'],
  [type='url'],
  [type='password'],
  [type='number'],
  [type='date'],
  [type='datetime-local'],
  [type='month'],
  [type='search'],
  [type='tel'],
  [type='time'],
  [type='week'],
  [multiple],
  textarea,
  select {
    @apply w-full rounded-md border border-border bg-form-bg px-4 py-2 text-sm text-foreground placeholder:text-text-placeholder focus:border-primary focus:ring-2 focus:ring-primary/20 focus:outline-none transition-all;
  }
  [type='checkbox'],
  [type='radio'] {
    @apply h-4 w-4 rounded border-border bg-form-bg checked:border-primary checked:bg-primary focus:ring-2 focus:ring-primary/50;
  }

  .chat-item-hover {
    @apply flex items-center justify-between gap-3 p-4 cursor-pointer hover:bg-muted/50 dark:hover:bg-muted/80 rounded-md;
  }

  .chat-item-text {
    @apply font-medium text-foreground truncate;
  }

  .delete-btn {
    @apply text-destructive hover:text-destructive/80 transition-opacity opacity-100 dark:text-destructive-foreground;
  }

  .summary-pill {
    @apply px-4 py-2 rounded-full font-medium text-sm bg-muted/50 text-muted-foreground;
  }

  svg-icon svg {
    color: var(--primary);
  }

  svg path {
    stroke: currentColor !important;
  }

  /* Semantic text */
  .text-heading { color: var(--text-heading); }
  .text-body { color: var(--text-body); }
  .text-label { color: var(--text-label); }
  .text-placeholder { color: var(--text-placeholder); }
  .text-muted { color: var(--text-muted); }

  /* Backgrounds */
  .bg-app { background-color: var(--background); }
  .bg-card { background-color: var(--card); color: var(--card-foreground); box-shadow: var(--shadow-1); }
  .bg-form { background-color: var(--form-bg); color: var(--card-foreground); }

  /* Border */
  .border-muted { border-color: var(--border); }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center gap-2 rounded-md px-4 py-2 text-sm font-semibold transition shadow-sm;
    border: 1px solid transparent;
  }
  .btn-primary {
    background-color: var(--primary);
    color: var(--primary-foreground);
  }
  .btn-primary:active { transform: translateY(1px); }

  .btn-neutral {
    background-color: var(--muted);
    color: var(--muted-foreground);
    border-color: var(--border);
  }

  .btn-destructive {
    background-color: var(--destructive);
    color: var(--destructive-foreground);
  }
  .btn-primary:hover {
    background-color: color-mix(in srgb, var(--primary) 90%, transparent);
  }
  .btn-neutral:hover {
    background-color: color-mix(in srgb, var(--muted) 90%, transparent);
  }
  .btn-destructive:hover {
    background-color: color-mix(in srgb, var(--destructive) 90%, transparent);
  }
  .btn-success:hover {
    background-color: color-mix(in srgb, var(--success) 90%, transparent);
  }

  .icon-btn-hover {
    @apply text-primary hover:text-primary/80 transition-colors;
  }
  .icon-btn-hover svg {
    @apply group-hover:text-muted-foreground;
  }

  .table-row-hover {
    @apply border-b border-dashed border-border hover:bg-muted/50 dark:hover:bg-muted/80;
  }

  .ui-separator {
    background-color: var(--border);
    height: 1px;
  }

  .nav-hover {
    @apply hover:bg-muted/50 transition-colors duration-200;
  }
}
